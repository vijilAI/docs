---
title: "What is Darwin?"
description: "Automatically evolve AI agents to improve reliability, security, and safety"
---

Darwin is Vijil's agent evolution system. It automatically improves AI agents by learning from evaluation feedback and production telemetry, proposing targeted mutations to agent configurations that improve trust scores.

## The Problem

Building trustworthy AI agents is hard. Developers face a frustrating cycle:

1. **Configure** an agent with prompts, tools, and settings
2. **Evaluate** with Diamond to measure reliability, security, and safety
3. **Analyze** failures manually to understand what went wrong
4. **Iterate** by guessing what changes might help
5. **Repeat** until trust scores are acceptable

This manual process is slow, error-prone, and doesn't scale. As agents become more complex and deployment requirements more stringent, teams need automated help.

## How Darwin Helps

Darwin closes the loop between evaluation and improvement:

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   Diamond   │────▶│   Darwin    │────▶│  Improved   │
│  Evaluation │     │  Evolution  │     │    Agent    │
└─────────────┘     └─────────────┘     └─────────────┘
       ▲                                       │
       └───────────────────────────────────────┘
                   Continuous Loop
```

Instead of manual iteration, Darwin:

- **Analyzes** evaluation results and detection events
- **Proposes** targeted mutations to agent configuration
- **Validates** improvements through re-evaluation
- **Learns** which changes work for which problems

## The Trust Cube

Darwin optimizes agents across three dimensions, which together form the **Trust Cube**:

<img src="/images/trust-cube.svg" alt="Trust Cube: Reliability, Security, Safety" style={{maxWidth: '400px', margin: '1.5rem auto', display: 'block'}} />

| Dimension | What it measures | Example failures |
|-----------|------------------|------------------|
| **Reliability** | Does the agent perform correctly? | Wrong answers, inconsistent behavior, task failures |
| **Security** | Is the agent resistant to attacks? | Prompt injection, jailbreaks, data extraction |
| **Safety** | Does the agent avoid harm? | Toxic content, PII leakage, policy violations |

Darwin uses quality-diversity algorithms to explore this space, finding agent configurations that excel in different trust profiles.

## Key Concepts

### Agent Genome

The **genome** represents an agent's mutable configuration as a structured set of **genes**. Each gene has a **mutability weight** (0.0 = frozen, 1.0 = freely mutable) that controls how aggressively Darwin can evolve it.

| Gene Type | Examples | What Darwin can mutate |
|-----------|----------|------------------------|
| **TEXT** | System prompt, instructions | Wording, guardrails, constraints |
| **NUMERIC** | Temperature, top_p, max_tokens | LLM tuning parameters |
| **BOOLEAN** | Memory enabled, delegation allowed | Feature flags |
| **ENUM** | Model name, provider | Categorical choices |
| **LIST** | Available tools, skills | Add/remove capabilities |
| **OBJECT** | Tool configs, delegation settings | Nested parameters |

Darwin uses **hybrid embeddings** to compare genomes: text embeddings for prompts and structured embeddings for numeric/boolean/categorical values.

<Card title="Learn more" icon="dna" href="/concepts/darwin/genome">
  Deep dive into Agent Genomes and gene types
</Card>

### Mutations

A **mutation** is a proposed change to one or more genes. Mutations are triggered by detection events from Dome (production violations) or Diamond (evaluation failures).

Darwin uses multiple strategies to propose mutations:

| Strategy | How it works | Best for |
|----------|--------------|----------|
| **RULE_BASED** | Maps violation types to predefined guardrails | Fast, deterministic responses |
| **GEPA** | LLM-guided prompt optimization via DSPy reflection | System prompt improvements |
| **CONFIG_QD** | In-context QD with archive summary for LLM guidance | Tool and capability changes |
| **PARALLEL** | Runs GEPA and CONFIG_QD concurrently, merges results | Comprehensive optimization |
| **HYBRID** | GEPA with rule-based fallback | Balanced speed and quality |

Each mutation goes through the **evaluation pipeline**: Diamond evaluates both baseline and mutated configurations, and only mutations that demonstrate verified improvement are presented for human review.

<Card title="Learn more" icon="shuffle" href="/concepts/darwin/mutations">
  Understanding mutation strategies
</Card>

### Evolution Loop

Darwin's evolution loop runs continuously or on-demand:

1. **Detect** - Dome collects detection events from production or Diamond collects evaluation failures
2. **Propose** - Darwin analyzes detections and proposes mutations
3. **Evaluate** - Diamond validates proposed changes
4. **Archive** - Successful mutations are stored in the elite archive
5. **Apply** - Approved mutations update the agent configuration

## Getting Started

<CardGroup cols={2}>
  <Card title="Enable Darwin" icon="play" href="/developer-guide/darwin/getting-started">
    Step-by-step guide to evolve your first agent
  </Card>
  <Card title="Mutation Strategies" icon="sliders" href="/developer-guide/darwin/mutation-strategies">
    Choose the right strategy for your use case
  </Card>
</CardGroup>

## Current Status

Darwin is currently in active development:

| Phase | Capability | Status |
|-------|------------|--------|
| **Phase 1** | GEPA prompt optimization | Complete |
| **Phase 2** | Config Optimizer (IC-QD) | Complete |
| **Phase 3** | Meta Agent Search | Planned |

Contact us to become a design partner for early access.

## For Developers

For implementation details and engineering specifications, see the internal design documents in the `vijil-console` repository:

- `docs/AGENT_GENOME_DESIGN.md` - Complete genome architecture and data models
- `docs/DARWIN_EVOLUTION_DESIGN.md` - Evolution workflow and integration details
- `docs/plans/2026-01-25-darwin-genome-evolution-design.md` - Phase 1-3 roadmap
