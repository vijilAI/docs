---
title: 'Agents API'
description: 'REST API reference for registering and managing agent configurations.'
---

The Agents API allows you to register agents with Vijil, manage their configurations, and associate them with evaluations and Dome guardrails.

## Actions

| Action | Description |
|--------|-------------|
| [ListAgents](#listagents) | List all registered agents |
| [CreateAgent](#createagent) | Register a new agent |
| [GetAgent](#getagent) | Get details for a specific agent |
| [UpdateAgent](#updateagent) | Update an agent's configuration |
| [DeleteAgent](#deleteagent) | Delete a registered agent |

---

## ListAgents

Returns a list of all agents registered to your account.

### Request Syntax

```http
GET /v1/agents HTTP/1.1
Authorization: Bearer {api_key}
```

### Query Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| **include_archived** | Boolean | No | Include archived agents. Default: `false`. |

### Response Syntax

```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "data": [
    {
      "id": "string",
      "name": "string",
      "hub": "string",
      "model_name": "string",
      "status": "string",
      "trust_score": number,
      "created_at": "string"
    }
  ]
}
```

### Response Elements

| Element | Type | Description |
|---------|------|-------------|
| **data** | Array | List of agent objects. |
| **data[].id** | String | Unique agent identifier. Format: `agent-{uuid}`. |
| **data[].name** | String | Agent display name. |
| **data[].hub** | String | Model provider. See [Supported Hubs](#supported-hubs). |
| **data[].model_name** | String | Model identifier at the provider. |
| **data[].status** | String | Agent status: `active` or `archived`. |
| **data[].trust_score** | Number | Latest Trust Score (0.0–1.0). Null if not evaluated. |
| **data[].created_at** | String | ISO 8601 timestamp of creation. |

### Example

**Request:**
```bash
curl -X GET "https://api.vijil.ai/v1/agents" \
  -H "Authorization: Bearer $VIJIL_API_KEY"
```

**Response:**
```json
{
  "data": [
    {
      "id": "agent-abc123",
      "name": "Customer Support Bot",
      "hub": "openai",
      "model_name": "gpt-4o",
      "status": "active",
      "trust_score": 0.85,
      "created_at": "2024-01-15T10:30:00Z"
    }
  ]
}
```

**Python:**
```python
agents = vijil.agents.list(include_archived=False)
```

---

## CreateAgent

Registers a new agent with Vijil. The agent can then be evaluated and protected with Dome guardrails.

### Request Syntax

```http
POST /v1/agents HTTP/1.1
Content-Type: application/json
Authorization: Bearer {api_key}

{
  "agent_name": "string",
  "hub": "string",
  "model_name": "string",
  "api_key_value": "string",
  "api_key_name": "string",
  "agent_system_prompt": "string",
  "model_url": "string",
  "hub_config": {}
}
```

### Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| **agent_name** | String | Yes | Display name for the agent. Must be unique within your account. |
| **hub** | String | Yes | Model provider. See [Supported Hubs](#supported-hubs). |
| **model_name** | String | Yes | Model identifier (e.g., `gpt-4o`, `claude-3-sonnet`). |
| **api_key_value** | String | Conditional | API key for the model provider. Required if `api_key_name` not provided. |
| **api_key_name** | String | Conditional | Name of a stored API key. Required if `api_key_value` not provided. |
| **agent_system_prompt** | String | No | System prompt to use when evaluating the agent. |
| **model_url** | String | Conditional | Endpoint URL for `custom` hub. Required if `hub` is `custom`. |
| **hub_config** | Object | Conditional | Provider-specific configuration. Required for `bedrock` and `vertex`. See [Hub Configuration](#hub-configuration). |

#### Hub Configuration

For AWS Bedrock:
```json
{
  "region": "us-east-1",
  "access_key": "AKIA...",
  "secret_access_key": "..."
}
```

For Google Vertex AI:
```json
{
  "project_id": "my-project",
  "location": "us-central1",
  "service_account_json": "..."
}
```

### Response Syntax

```http
HTTP/1.1 201 Created
Content-Type: application/json

{
  "id": "string",
  "name": "string",
  "hub": "string",
  "model_name": "string",
  "status": "string",
  "created_at": "string"
}
```

### Response Elements

| Element | Type | Description |
|---------|------|-------------|
| **id** | String | Unique agent identifier. Format: `agent-{uuid}`. |
| **name** | String | Agent display name. |
| **hub** | String | Model provider. |
| **model_name** | String | Model identifier. |
| **status** | String | Initial status. Always `active` for new agents. |
| **created_at** | String | ISO 8601 timestamp of creation. |

### Errors

| Error | HTTP Status | Description |
|-------|-------------|-------------|
| `InvalidRequestException` | 400 | Request body is malformed or missing required fields. |
| `InvalidApiKeyException` | 401 | Vijil API key is invalid or expired. |
| `AgentAlreadyExistsException` | 409 | An agent with this name already exists. |
| `InvalidHubException` | 400 | The specified hub is not supported. |

### Example

**Request:**
```bash
curl -X POST "https://api.vijil.ai/v1/agents" \
  -H "Authorization: Bearer $VIJIL_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "agent_name": "Customer Support Bot",
    "hub": "openai",
    "model_name": "gpt-4o",
    "api_key_value": "sk-...",
    "agent_system_prompt": "You are a helpful customer support agent."
  }'
```

**Response:**
```json
{
  "id": "agent-abc123",
  "name": "Customer Support Bot",
  "hub": "openai",
  "model_name": "gpt-4o",
  "status": "active",
  "created_at": "2024-01-15T10:30:00Z"
}
```

**Python:**
```python
agent = vijil.agents.create(
    agent_name="Customer Support Bot",
    hub="openai",
    model_name="gpt-4o",
    api_key_value="sk-...",
    agent_system_prompt="You are a helpful customer support agent."
)
```

---

## GetAgent

Retrieves details for a specific agent.

### Request Syntax

```http
GET /v1/agents/{agent_name} HTTP/1.1
Authorization: Bearer {api_key}
```

### URI Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| **agent_name** | String | Yes | The agent's display name. |

### Response Syntax

```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "id": "string",
  "name": "string",
  "hub": "string",
  "model_name": "string",
  "status": "string",
  "trust_score": number,
  "agent_system_prompt": "string",
  "created_at": "string",
  "updated_at": "string"
}
```

### Response Elements

| Element | Type | Description |
|---------|------|-------------|
| **id** | String | Unique agent identifier. |
| **name** | String | Agent display name. |
| **hub** | String | Model provider. |
| **model_name** | String | Model identifier. |
| **status** | String | Agent status: `active` or `archived`. |
| **trust_score** | Number | Latest Trust Score (0.0–1.0). Null if not evaluated. |
| **agent_system_prompt** | String | System prompt. Null if not set. |
| **created_at** | String | ISO 8601 timestamp of creation. |
| **updated_at** | String | ISO 8601 timestamp of last update. |

### Errors

| Error | HTTP Status | Description |
|-------|-------------|-------------|
| `AgentNotFoundException` | 404 | Agent does not exist. |

### Example

**Request:**
```bash
curl -X GET "https://api.vijil.ai/v1/agents/Customer%20Support%20Bot" \
  -H "Authorization: Bearer $VIJIL_API_KEY"
```

**Python:**
```python
agent = vijil.agents.get(agent_name="Customer Support Bot")
```

---

## UpdateAgent

Updates an existing agent's configuration.

### Request Syntax

```http
PATCH /v1/agents/{agent_name} HTTP/1.1
Content-Type: application/json
Authorization: Bearer {api_key}

{
  "new_agent_name": "string",
  "agent_system_prompt": "string",
  "api_key_value": "string",
  "api_key_name": "string"
}
```

### URI Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| **agent_name** | String | Yes | Current agent name. |

### Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| **new_agent_name** | String | No | New display name for the agent. |
| **agent_system_prompt** | String | No | Updated system prompt. |
| **api_key_value** | String | No | New API key for the model provider. |
| **api_key_name** | String | No | Name of a stored API key to use. |

### Response Syntax

```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "id": "string",
  "name": "string",
  "status": "string",
  "updated_at": "string"
}
```

### Errors

| Error | HTTP Status | Description |
|-------|-------------|-------------|
| `AgentNotFoundException` | 404 | Agent does not exist. |
| `AgentAlreadyExistsException` | 409 | An agent with the new name already exists. |

### Example

**Request:**
```bash
curl -X PATCH "https://api.vijil.ai/v1/agents/Customer%20Support%20Bot" \
  -H "Authorization: Bearer $VIJIL_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "new_agent_name": "Support Bot v2",
    "agent_system_prompt": "You are a helpful and concise support agent."
  }'
```

**Python:**
```python
vijil.agents.update(
    agent_name="Customer Support Bot",
    new_agent_name="Support Bot v2",
    agent_system_prompt="You are a helpful and concise support agent."
)
```

---

## DeleteAgent

Permanently deletes an agent and disassociates it from any evaluations.

### Request Syntax

```http
DELETE /v1/agents/{agent_name} HTTP/1.1
Authorization: Bearer {api_key}
```

### URI Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| **agent_name** | String | Yes | The agent's display name. |

### Response Syntax

```http
HTTP/1.1 204 No Content
```

### Errors

| Error | HTTP Status | Description |
|-------|-------------|-------------|
| `AgentNotFoundException` | 404 | Agent does not exist. |

### Example

**Request:**
```bash
curl -X DELETE "https://api.vijil.ai/v1/agents/Customer%20Support%20Bot" \
  -H "Authorization: Bearer $VIJIL_API_KEY"
```

**Python:**
```python
vijil.agents.delete(agent_name="Customer Support Bot")
```

---

## Supported Hubs

| Hub | Description |
|-----|-------------|
| `openai` | OpenAI GPT models (GPT-4, GPT-4o, etc.) |
| `anthropic` | Anthropic Claude models |
| `bedrock` | AWS Bedrock foundation models |
| `bedrockAgents` | AWS Bedrock Agents |
| `vertex` | Google Vertex AI |
| `digitalocean` | DigitalOcean GenAI |
| `custom` | Any OpenAI-compatible endpoint |

---

## See Also

- [API Overview](/developer-guide/api/overview) — Authentication and error handling
- [Python Client Reference](/developer-guide/api/python-client) — Full Python SDK documentation
- [Evaluations API](/developer-guide/api/evaluations-api) — Evaluation endpoints
